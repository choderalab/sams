# Hybrid SAMS umbrella sampling / alchemical free energy calculation of Abl:imatinib

This example uses fused alchemical softcore potentials implemented in the [`alchemy`](https://github.com/choderalab/alchemy) package along with an adaptive umbrella sampling scheme to sample DFG loop flips for Abl:imatinib in explicit solvent.

## Manifest

* `hybrid-alchemical-umbrella.py` - example driver script
* `setup/` - these files were automatically generated by YANK; they contain Amber `prmtop/inpcrd` files for the solvated complex, used here

## Usage

Make sure you have the omnia channel and `dev` label added to your conda path:
```bash
# Add omnia channel for stable omnia packages
- conda config --add channels omnia
# Add omnia dev channels to pick up `openmm 7.1.0` pre-release
- conda config --add channels omnia/label/dev
```
Make sure you have the OpenMM 7.1.0 preview installed:
```bash
# Clean out cached version of openmm package
conda clean -pltis --yes
# Install OpenMM 7.1.0 dev preview
conda install --yes openmm==7.1.0
```
Install `sams`:
```bash
conda install --yes sams
```
Run the example:
```bash
python hybrid-alchemical-umbrella.py
```
